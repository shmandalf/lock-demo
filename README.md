# Lock Demo - Визуализация распределенных семафоров

Демонстрация работы распределенных семафоров на Redis для управления параллельной обработкой задач в Laravel приложениях.

## Описание

Этот проект демонстрирует работу распределенных семафоров на Redis для контроля одновременного доступа к ограниченным ресурсам. Он включает интерактивную панель, где можно наблюдать в реальном времени, как задачи соревнуются за блокировки, перемещаясь по анимированному конвейеру.

Визуализация показывает задачи, проходящие через различные этапы: очередь, обработка, проверка блокировки, выполнение и завершение. Это помогает понять, как распределенные системы управляют конкурентностью и ограничениями скорости.

## Возможности

- Визуализация задач в реальном времени с анимированным конвейером
- Реализация семафоров на Redis для распределенных блокировок
- Обновления через WebSocket с использованием Soketi (совместим с Pusher)
- Очередь RabbitMQ для фоновой обработки задач
- Настраиваемые ограничения по конкурентности
- Автоматические повторные попытки с экспоненциальной задержкой
- Статистика и журнал событий в реальном времени

## Технологии

- **PHP**: 8.5
- **Фреймворк**: Laravel 12.x
- **Очередь**: RabbitMQ с Laravel Horizon 5.41
- **Драйвер очереди**: Laravel Queue RabbitMQ 14.4
- **Кэш/Блокировки**: Redis с Predis 3.3
- **Real-time**: Pusher PHP Server 7.2 (Soketi WebSocket сервер)
- **База данных**: MySQL 8.4
- **Фронтенд**: Tailwind CSS
- **Контейнеризация**: Docker с Laravel Sail
- **Инструменты разработки**: PHPUnit

## Требования

- Docker и Docker Compose
- Git

## Демо

#### Максимум две задачи могут выполняться одновременно (In Progress)
<video src="https://github.com/user-attachments/assets/02f0facb-0569-41d5-a777-1ac0af279264" width="800" controls></video>

## Быстрый старт

### 1. Клонирование и настройка
```bash
git clone git@github.com:shmandalf/lock-demo.git
cd lock-demo
```

### 2. Билд образов
```bash
docker compose build
```

### 3. Зайдем внутрь контейнера laravel.test
```bash
docker compose exec laravel.test bash
```

### 4. Установим зависимости
```bash
npm install
composer install
```

### TODO